<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="../../images/icon.ico" type="image/x-icon" />
    <title>Dashboard - iTrack</title>
    <link rel="stylesheet" href="../css/dashboard.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <div class="sidebar">
      <div class="logo">
        <img
          src="../../images/icon.webp"
          alt="Logo Icon"
          style="height: 30px; margin-left: 5px"
        />
        iTrack
      </div>
      <nav>
        <ul>
          <li>
            <a href="#" id="dashboardLink"
              ><i class="fas fa-tachometer-alt"></i> Dashboard</a
            >
          </li>
          <li>
            <a href="#"><i class="fas fa-chart-line"></i> Insights</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-file-alt"></i> Reports</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-cog"></i> Settings</a>
          </li>
        </ul>
      </nav>
      <div class="pro-banner">
        <div class="pro-banner-header">
          <p class="get-pro-text">Get Pro</p>
          <i class="fas fa-times close-icon"></i>
        </div>
        <p class="pro-description">Unlimited assets, insight report exports</p>
        <div class="pro-banner-button">
          <button>Start Now • $50/yr →</button>
        </div>
      </div>
    </div>

    <div class="main-content">
      <header>
        <h1>Dashboard</h1>
        <div class="button-group">
          <button class="add-button"><i class="fas fa-plus"></i> Add</button>
          <button class="logout-button">
            <i class="fas fa-sign-out-alt"></i> Logout
          </button>
        </div>
      </header>

      <div class="content-row">
        <section class="total-expenses">
          <h2>Total Expenses</h2>
          <h3 id="total-amount"></h3>
          <div class="total-expenses-chart">
            <canvas id="expenses-bars"></canvas>
          </div>
          <p id="noExpMessage" class="message" style="display: none">
            No expenses yet. <em>Click ADD to enter expenses.</em>
          </p>
          <div class="time-filters">
            <button>Live</button>
            <button>1 Week</button>
            <button>1 Month</button>
            <button>1 Year</button>
            <button>All</button>
          </div>
        </section>

        <section class="categories">
          <h2>Categories</h2>
          <div class="chart-container">
            <canvas id="category-bars"></canvas>
            <p id="noCategoriesMessage" class="message" style="display: none">
              No expenses yet. <em>Click ADD to enter expenses.</em>
            </p>
          </div>
          <div id="diversification-score"></div>
        </section>
      </div>

      <section class="expenses">
        <div class="expenses-header">
          <h2>Expenses</h2>
          <a href="#" class="view-all" style="display: none">View All →</a>
        </div>
        <div class="expenses-table-wrapper" style="display: none">
          <table class="expenses-table">
            <thead>
              <tr>
                <th>Category</th>
                <th>Amount</th>
                <th>Date</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <!-- Rows will be dynamically inserted here by JavaScript -->
            </tbody>
          </table>
        </div>

        <!-- Section for "No Expenses" message -->
        <p id="noExpensesMessage" class="message" style="display: none">
          No expenses to view. <em>Click ADD to enter expenses.</em>
        </p>
      </section>
    </div>

    <!-- Add Modal -->
    <div id="addModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <h2>Select Action</h2>
        <div class="option-container">
          <div class="option" id="addExpenses">
            <i class="fas fa-money-bill-wave"></i>
            <p>Add Expenses</p>
          </div>
          <div class="option" id="addCategories">
            <i class="fas fa-tags"></i>
            <p>Add Categories</p>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/dashboard.js"></script>
  </body>
</html>
